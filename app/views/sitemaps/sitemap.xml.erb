<?xml version="1.0" encoding="UTF-8"?>
<urlset
      xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9
            http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd">

  <url>
    <loc><%= root_url %></loc>
    <lastmod><%= @posts.last.created_at.iso8601 %></lastmod>
    <changefreq>daily</changefreq>
    <priority>1.00</priority>
  </url>

  <url>
    <loc><%= login_url %></loc>
    <lastmod>2019-10-07T16:36:16Z</lastmod>
    <priority>0.95</priority>
  </url>

  <url>
    <loc><%= new_user_url %></loc>
    <lastmod>2019-10-07T16:36:16Z</lastmod>
    <priority>0.95</priority>
  </url>

  <url>
    <loc><%= on_fire_url %></loc>
    <lastmod><%= @posts.last.created_at.iso8601 %></lastmod>
    <changefreq>daily</changefreq>
    <priority>0.95</priority>
  </url>

  <url>
    <loc><%= overwatch_2_url %></loc>
    <lastmod><%= @posts.last.created_at.iso8601 %></lastmod>
    <changefreq>daily</changefreq>
    <priority>0.95</priority>
  </url>

  <% heroes.each do |hero| %>
    <url>
      <loc><%= filter_url(hero: to_slug(hero["en"])) %></loc>
      <lastmod><%= @posts.last.created_at.iso8601 %></lastmod>
      <priority>0.80</priority>
    </url>
  <% end %>

  <% maps.each do |map| %>
    <url>
      <loc><%= filter_url(map: to_slug(map["en"])) %></loc>
      <lastmod><%= @posts.last.created_at.iso8601 %></lastmod>
      <priority>0.80</priority>
    </url>
  <% end %>

  <% categories.each do |category| %>
    <url>
      <loc><%= filter_url(category: to_slug(category["en"])) %></loc>
      <lastmod><%= @posts.last.created_at.iso8601 %></lastmod>
      <priority>0.80</priority>
    </url>
  <% end %>

  <% @posts.each do |post| %>
    <url>
      <loc><%= post_url(post.code) %></loc>
      <lastmod><%= post.updated_at.iso8601 %></lastmod>
      <priority>0.90</priority>
    </url>
  <% end %>

  <% @collections.each do |collection| %>
    <url>
      <loc><%= collection_url(collection.nice_url) %></loc>
      <lastmod><%= collection.updated_at.iso8601 %></lastmod>
      <priority>0.85</priority>
    </url>
  <% end %>

  <url>
    <loc><%= wiki_root_url %></loc>
    <lastmod>2020-07-01T16:36:16Z</lastmod>
    <priority>0.95</priority>
  </url>

  <% @wiki_articles.each do |article| %>
    <url>
      <loc><%= wiki_article_url(article.slug) %></loc>
      <lastmod><%= article.created_at.iso8601 %></lastmod>
      <priority>0.85</priority>
    </url>
  <% end %>

  <% @wiki_categories.each do |category| %>
    <url>
      <loc><%= wiki_category_url(category.slug) %></loc>
      <lastmod><%= category.created_at.iso8601 %></lastmod>
      <priority>0.85</priority>
    </url>
  <% end %>
</urlset>
