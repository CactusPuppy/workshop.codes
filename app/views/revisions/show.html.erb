<% if @previous_revision.present? %>
  <% content_for :page_title, "Viewing difference between #{ @revision.code } and #{ @previous_revision.code }" %>
  <h2 class="heading mb-quarter">Comparing difference between <strong><%= @revision.code %></strong> and <strong><%= @previous_revision.code %></strong></h2>
<% else %>
  <% content_for :page_title, "Viewing initial snippet for #{ @revision.code }" %>
  <h2 class="heading mb-quarter">Viewing initial snippet for <strong><%= @revision.code %></strong></h2>
<% end %>

<%= link_to "Return to post", post_path(@post.code), class: "button button--secondary button--small mb-half" %>

<div class="difference-header">
  <%= link_to "View raw", raw_snippet_path(@revision.id, "json"), class: "difference-header__item" %>

  <div class="difference-header__item checkbox">
    <%= check_box_tag :hide_unchanged, "", false, data: { action: "toggle-unchanged-difference" } %>
    <%= label_tag :hide_unchanged, "Hide unchanged lines" %>
  </div>
</div>

<div class="well">
  <%= @difference.html_safe %>
</div>
