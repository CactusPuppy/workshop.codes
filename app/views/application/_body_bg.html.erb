<div class="body-bg body-bg--<%= yield(:bg_size) %>">
  <picture>
    <% if yield(:replace_body_bg) == "" %>
      <source
        srcset="
          <%= image_path "layout/header-bg_sm.webp" %> 640w,
          <%= image_path "layout/header-bg_md.webp" %> 960w,
          <%= image_path "layout/header-bg_lg.webp" %> 1920w"
        type="image/webp">
    <% end %>

    <% if yield(:replace_body_bg) == "" %>
      <source
        srcset="
          <%= image_path "layout/header-bg_sm.jpg" %> 640w,
          <%= image_path "layout/header-bg_md.jpg" %> 960w,
          <%= image_path "layout/header-bg_lg.jpg" %> 1920w"
        type="image/jpg">

      <%= image_tag "layout/header-bg_lg.jpg", alt: "Workshop.codes - Background image", height: 400, width: 1920 %>
    <% end %>

    <% if yield(:replace_body_bg) == "user" %>
      <source
        srcset="
          <%= ENV["CDN"] + @user.banner_image.variant(quality: 90, resize_to_fill: [640, 400]).processed.key %> 640w,
          <%= ENV["CDN"] + @user.banner_image.variant(quality: 90, resize_to_fill: [960, 400]).processed.key %> 960w,
          <%= ENV["CDN"] + @user.banner_image.variant(quality: 90, resize_to_fill: [1920, 400]).processed.key %> 1920w"
        type="image/jpg">

      <%= image_tag ENV["CDN"] + @user.banner_image.variant(quality: 90, resize_to_fill: [1920, 400]).processed.key %>
    <% end %>
  </picture>
</div>
