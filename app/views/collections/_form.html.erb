<%= form_for @collection, url: url do |form| %>
  <%= render "form_errors", errors: @collection.errors if @collection.errors.any? %>

  <div class="form-group">
    <%= form.label :title, value: "Collection title", class: "form-label" %>
    <%= form.text_field :title, class: "form-input form-input--large", placeholder: "Collection title" %>
  </div>

  <div class="form-group mt-1/2">
    <%= form.label :description, t("profile.form.description.label"), class: "form-label" %>

    <div class="form-hint">
      Basic Markdown enabled. Limited to 1000 characters.
    </div>

    <%= form.text_area :description, class: "form-input form-textarea form-textarea--small", maxlength: 1000 %>
  </div>

  <div class="form-group-uneven mt-1/2">
    <div class="well well--dark block">
      <div class="checkbox">
        <%= form.radio_button :display_type, :list %>
        <%= form.label :display_type, "List", value: :list %>
      </div>

      <div class="checkbox mt-1/4">
        <%= form.radio_button :display_type, :cards %>
        <%= form.label :display_type, "Cards", value: :cards %>
      </div>
    </div>
  </div>

  <div class="form-group mt-1/2">
    <%= form.label :cover_image, "Cover image", class: "form-label" %>

    <div class="cover-image well well--dark block">
      <%= image_tag (@collection.cover_image.attached? ? rails_public_blob_url(@collection.cover_image.variant(quality: 95, resize_to_fill: [900, 500]).processed) : "//:0"),
                    data: { image_preview: "cover-image" },
                    class: "img-fluid" %>
    </div>

    <%= form.file_field :cover_image,
                        accept: "image/png, image/jpeg, image/jpg",
                        direct_upload: true,
                        data: { action: "image-preview", target: "cover-image" } %>

    <p class="form-hint mt-1/4 mb-0">
      Image will be processed to a 900x500 format. Max 2MB.
    </p>
  </div>

  <hr class="mt-1/2 mb-1/2" />

  <%= submit_tag "Save", class: "button mt-1/4", data: { disable_with: "Saving..." } %>
<% end %>
